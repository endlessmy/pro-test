<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>项目中心</title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/bootstrap-select.css" />
		<link rel="stylesheet" href="css/common.css" />
		<link rel="stylesheet" href="css/styles.css" />
		<link rel="stylesheet" href="css/daterangepicker.css" />
	</head>
	<body>
		<header>
			<div class="container">
				<nav class="nav">
					<img src="img/logo.png" class="logo"/>
					<h2>支撑中心管理平台</h2>
					<div class="admin">
						<img src="img/admin.jpg">
						<span class="roger">roger</span>
						<a href="javascript:;" class="down"></a>
					</div>
				</nav>
			</div>
		</header>
		<!--导航-->
		<div class="direct">
			<div class="container">
			     <ul>
			    	<li class="on"><a href="javascript:;">我的项目</a></li>
			    	<li><a href="work.html">工作日志</a></li>
			    	<li><a href="test.html">测试记录</a></li>
			    	<li><a href="manage.html">事务管理</a></li>
			    	<li><a href="count.html">统计</a></li>
			     </ul>			     
			</div>
		</div>
		<!--项目中心-->
		<div class="project animated an-fadeIn">
			<div class="container">
			    <div class="pro-top col-md-12 col-lg-12">
			    	<div class="pro-left">
			    		<h2 class="h2">项目中心</h2>
			    		<a href="javascript:;" id="addproject"><img src="img/add.png"></a>
			    	</div>
			    	<div class="pro-right">
			    		<ul>
			    			<li class="pro-on">
					    		<a href="javascript:;">全部</a>
					    	</li>
					    	<li>
					    		<a href="javascript:;">已完成</a>
					    	</li>
					    	<li>
					    		<a href="javascript:;">延期项目</a>
					    	</li>
			    		</ul>
			    		<input type="text" placeholder="Search"/>
			    	</div>
			    </div>
			    <div class="pro-center col-md-12 col-lg-12 ">
			    	<div class="all all-on animated an-fadeIn cloneto">
			    		<div class="sdk col-md-4 col-lg-4 col-sm-1">
			    			<div class="country">
			    				<h2 class="h4">国内SDK</h2>
			    				<img src="img/common.jpg">
			    				<a href="javascript:;" class="edit h4">编辑</a>
			    			</div>
			    			<div class="sdk-v">
			    				<h2 class="h3">SDK v3.0.1</h2>
			    				<p>报警机制详情，这里是文案,允许录入很多字。</p>
			    				<div class="sdk-step">
			    					<input type="button" class="task" value="任务" onclick="location.href='task.html'">
			    					<input type="button" class="flow" value="流程" onclick="location.href='progress.html'">
			    					<span class="flow-num">4</span>
			    					<div class="sdk-b">
			    						<div>
			    							<span class="star">Star</span>
			    						    <span class="num num1">20171020</span>
			    						</div>
			    						<div>
			    							<span class="star">End</span>
			    						    <span class="num num2">20171027</span>
			    						</div>
			    					</div>			    					
			    				</div>
			    			</div>
			    			<div class="sdk-bonus">
								<div class="bonus1">
									<a href="bonus.html">
										<span class="bonus">奖金</span>
								        <span class="jine">500</span>
									</a>
									
								</div>
								<div class="bonus2">
									<a href="javascript:;" class="bug">Bug</a>
								</div>
							</div>
			    		</div>
			    		<div class="sdk col-md-4 col-lg-4 col-sm-1 wrong">
			    			<div class="country">
			    				<h2 class="h4">国内SDK</h2>
			    				<img src="img/wrong.jpg">
			    				<a href="javascript:;" class="edit h4">编辑</a>
			    			</div>
			    			<div class="sdk-v">
			    				<h2 class="h3">SDK v3.0.1</h2>
			    				<p>报警机制详情，这里是文案,允许录入很多字。</p>
			    				<div class="sdk-step">
			    					<input type="button" class="task" value="任务" onclick="location.href='task.html'">
			    					<input type="button" class="flow" value="流程" onclick="location.href='progress.html'">
			    					<span class="flow-num">4</span>
			    					<div class="sdk-b">
			    						<div>
			    							<span class="star">Star</span>
			    						    <span class="num num1">20171020</span>
			    						</div>
			    						<div>
			    							<span class="star">End</span>
			    						    <span class="num num2">20171027</span>
			    						</div>
			    					</div>			    					
			    				</div>
			    			</div>
			    			<div class="sdk-bonus">
								<div class="bonus1">
									<a href="bonus.html">
										<span class="bonus">奖金</span>
								        <span class="jine">500</span>
									</a>
								</div>
								<div class="bonus2">
									<a href="javascript:;" class="bug">Bug</a>
								</div>
							</div>
			    		</div>
			    		<div class="sdk col-md-4 col-lg-4 col-sm-1 wrong">
			    			<div class="country">
			    				<h2 class="h4">国内SDK</h2>
			    				<img src="img/wrong.jpg">
			    				<a href="javascript:;" class="edit h4">编辑</a>
			    			</div>
			    			<div class="sdk-v">
			    				<h2 class="h3">SDK v3.0.1</h2>
			    				<p>报警机制详情，这里是文案,允许录入很多字。</p>
			    				<div class="sdk-step">
			    					<input type="button" class="task" value="任务" onclick="location.href='task.html'">
			    					<input type="button" class="flow" value="流程" onclick="location.href='progress.html'">
			    					<span class="flow-num">4</span>
			    					<div class="sdk-b">
			    						<div>
			    							<span class="star">Star</span>
			    						    <span class="num num1">20171020</span>
			    						</div>
			    						<div>
			    							<span class="star">End</span>
			    						    <span class="num num2">20171027</span>
			    						</div>
			    					</div>			    					
			    				</div>
			    			</div>
			    			<div class="sdk-bonus">
								<div class="bonus1">
									<a href="bonus.html">
										<span class="bonus">奖金</span>
								        <span class="jine">500</span>
									</a>
								</div>
								<div class="bonus2">
									<a href="javascript:;" class="bug">Bug</a>
								</div>
							</div>
			    		</div>
			    		<div class="sdk col-md-4 col-lg-4 col-sm-1 wrong">
			    			<div class="country">
			    				<h2 class="h4">国内SDK</h2>
			    				<img src="img/wrong.jpg">
			    				<a href="javascript:;" class="edit h4">编辑</a>
			    			</div>
			    			<div class="sdk-v">
			    				<h2 class="h3">SDK v3.0.1</h2>
			    				<p>报警机制详情，这里是文案,允许录入很多字。</p>
			    				<div class="sdk-step">
			    					<input type="button" class="task" value="任务" onclick="location.href='task.html'">
			    					<input type="button" class="flow" value="流程" onclick="location.href='progress.html'">
			    					<span class="flow-num">4</span>
			    					<div class="sdk-b">
			    						<div>
			    							<span class="star">Star</span>
			    						    <span class="num num1">20171020</span>
			    						</div>
			    						<div>
			    							<span class="star">End</span>
			    						    <span class="num num2">20171027</span>
			    						</div>
			    					</div>			    					
			    				</div>
			    			</div>
			    			<div class="sdk-bonus">
								<div class="bonus1">
									<a href="bonus.html">
										<span class="bonus">奖金</span>
								        <span class="jine">500</span>
									</a>
								</div>
								<div class="bonus2">
									<a href="javascript:;" class="bug">Bug</a>
								</div>
							</div>
			    		</div>
			    	</div>
			    	<div class="all animated an-fadeIn">			    		
			    		<div class="sdk col-md-4 col-lg-4 col-sm-1">
			    			<div class="country">
			    				<h2 class="h4">国内SDK</h2>
			    				<img src="img/common.jpg">
			    				<a href="javascript:;" class="edit h4">编辑</a>
			    			</div>
			    			<div class="sdk-v">
			    				<h2 class="h3">SDK v3.0.1</h2>
			    				<p>报警机制详情，这里是文案,允许录入很多字。</p>
			    				<div class="sdk-step">
			    					<input type="button" class="task" value="任务" onclick="location.href='task.html'">
			    					<input type="button" class="flow" value="流程" onclick="location.href='progress.html'">
			    					<span class="flow-num">4</span>
			    					<div class="sdk-b">
			    						<div>
			    							<span class="star">Star</span>
			    						    <span class="num num1">20171020</span>
			    						</div>
			    						<div>
			    							<span class="star">End</span>
			    						    <span class="num num2">20171027</span>
			    						</div>
			    					</div>			    					
			    				</div>
			    			</div>
			    			<div class="sdk-bonus">
								<div class="bonus1">
									<a href="bonus.html">
										<span class="bonus">奖金</span>
								        <span class="jine">500</span>
									</a>
								</div>
								<div class="bonus2">
									<a href="javascript:;" class="bug">Bug</a>
								</div>
							</div>
			    		</div>
			    		<div class="sdk col-md-4 col-lg-4 col-sm-1">
			    			<div class="country">
			    				<h2 class="h4">国内SDK</h2>
			    				<img src="img/common.jpg">
			    				<a href="javascript:;" class="edit h4">编辑</a>
			    			</div>
			    			<div class="sdk-v">
			    				<h2 class="h3">SDK v3.0.1</h2>
			    				<p>报警机制详情，这里是文案,允许录入很多字。</p>
			    				<div class="sdk-step">
			    					<input type="button" class="task" value="任务" onclick="location.href='task.html'">
			    					<input type="button" class="flow" value="流程" onclick="location.href='progress.html'">
			    					<span class="flow-num">2</span>
			    					<div class="sdk-b">
			    						<div>
			    							<span class="star">Star</span>
			    						    <span class="num num1">20171020</span>
			    						</div>
			    						<div>
			    							<span class="star">End</span>
			    						    <span class="num num2">20171027</span>
			    						</div>
			    					</div>			    					
			    				</div>
			    			</div>
			    			<div class="sdk-bonus">
								<div class="bonus1">
									<a href="bonus.html">
										<span class="bonus">奖金</span>
								        <span class="jine">500</span>
									</a>
								</div>
								<div class="bonus2">
									<a href="javascript:;" class="bug">Bug</a>
								</div>
							</div>
			    		</div>			    		
			    	</div>
			    	<div class="all animated an-fadeIn">
			    		<div class="sdk col-md-4 col-lg-4 col-sm-1 wrong">
			    			<div class="country">
			    				<h2 class="h4">国内SDK</h2>
			    				<img src="img/wrong.jpg">
			    				<a href="javascript:;" class="edit h4">编辑</a>
			    			</div>
			    			<div class="sdk-v">
			    				<h2 class="h3">SDK v3.0.1</h2>
			    				<p>报警机制详情，这里是文案,允许录入很多字。</p>
			    				<div class="sdk-step">
			    					<input type="button" class="task" value="任务" onclick="location.href='task.html'">
			    					<input type="button" class="flow" value="流程" onclick="location.href='progress.html'">
			    					<span class="flow-num">4</span>
			    					<div class="sdk-b">
			    						<div>
			    							<span class="star">Star</span>
			    						    <span class="num num1">20171020</span>
			    						</div>
			    						<div>
			    							<span class="star">End</span>
			    						    <span class="num num2">20171027</span>
			    						</div>
			    					</div>			    					
			    				</div>
			    			</div>
			    			<div class="sdk-bonus">
								<div class="bonus1">
									<a href="bonus.html">
										<span class="bonus">奖金</span>
								        <span class="jine">500</span>
									</a>
								</div>
								<div class="bonus2">
									<a href="javascript:;" class="bug">Bug</a>
								</div>
							</div>
			    		</div>
			    	</div>
			    </div>
			    <!--<div class="loading">
			    	<img src="img/load.gif" />
			    	<span>加载中...</span>
			    </div>-->
			</div>
		</div>
		<!--新增项目-->
		<div class="modal fade project-modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <a class="close" data-dismiss="modal" aria-label="Close">
		        	<img aria-hidden="true" src="img/modal-close.png">
		        </a>
		        <div class="modal-title">
		        	<span id="exampleModalLabel"></span>
		        </div>		        
		      </div>
		      <div class="modal-body">
		      	<input type="text" placeholder="项目名称" class="name" id="project"/>
	      		<div class="btn-group btn1">
				    <button type="button" class="dropdown-toggle toggle" data-toggle="dropdown">
				    	<input type="text" placeholder="流程" class="flow"  readonly="readonly"/ onkeyup="text()">
				        <span class="caret"></span>
				    </button>
				    <ul class="dropdown-menu dropdown1" >
				       <li data-type = "提出需求"><a href="#">提出需求</a></li>
			           <li data-type = "需求设计"><a href="#">需求设计</a></li>
			           <li data-type = "需求评审"><a href="#">需求评审</a></li>
				    </ul>
				</div>
		      	<!--<input type="text" placeholder="设置成员" class="name" id="member"/>-->
		      	<select id="id_select" class="selectpicker bla bla bli name" multiple data-live-search="true">  
			        <option>cow</option>  
			        <option>sd</option>  
			        <option>sfv</option>  
			        <option>dfb</option> 
			        <option>dfbnfd</option>  
			        <option>ghrg</option> 
			    </select>
        		<div class="btn-group btn2" style="width: 22.3%;">
				    <button type="button" class="dropdown-toggle toggle" data-toggle="dropdown">
				    	<input type="text" placeholder="状态" class="status"  readonly="readonly"/>
				        <span class="caret"></span>
				    </button>
				    <ul class="dropdown-menu dropdown2">
				       <li data-type = "新增"><a href="#">新增</a></li>
			           <li data-type = "延期"><a href="#">延期</a></li>
			           <li data-type = "结项"><a href="#">结项</a></li>
				    </ul>
				</div>
		      	<div>
		      		<input type="text" placeholder="版本号" class="version" />
		         	<input type="number" placeholder="奖金" class="money"/>
		         	<div class="day">
		         		<span>日期</span>
		         		<input type="text" placeholder="请选择开始日期" id="day1"/>
		         		<span class="line"></span>
		         		<input type="text" placeholder="请选择结束日期" id="day2"/>
		         		<div class="cover"></div>
		         	</div>
		      	</div>
		        <textarea class="form-control" rows="5" placeholder="项目描述："></textarea>
		      </div>
		      <div class="modal-footer">
		      	<span class="remark">* 内容不能为空</span>
		      	<span class="remark1">* 开始日期不能大于结束日期</span>
		        <a href="javascript:;">保存</a>
		      </div>
		    </div>
		  </div>
		</div>
		<!--克隆-->
		<div class="sdk col-md-4 col-lg-4 clone-box">
			<div class="country">
				<h2 class="h4 clone-name"></h2>
				<img src="img/common.jpg">
				<a href="javascript:;" class="edit h4">编辑</a>
			</div>
			<div class="sdk-v">
				<h2 class="h3"></h2>
				<p></p>
				<div class="sdk-step">
					<input type="button" class="task" value="任务" onclick="location.href='task.html'">
					<input type="button" class="flow" value="流程" onclick="location.href='progress.html'">
					<span class="flow-num">4</span>
					<div class="sdk-b">
						<div>
							<span class="star">Star</span>
						    <span class="num num1"></span>
						</div>
						<div>
							<span class="star">End</span>
						    <span class="num num2"></span>
						</div>
					</div>			    					
				</div>
			</div>
			<div class="sdk-bonus">
				<div class="bonus1">
					<a href="bonus.html">
						<span class="bonus">奖金</span>
				        <span class="jine">500</span>
					</a>
				</div>
				<div class="bonus2">
					<a href="javascript:;" class="bug">Bug</a>
				</div>
			</div>
		</div>		
	<script type="text/javascript" src="js/jquery-1.10.2.min.js" ></script>
	<script type="text/javascript" src="js/bootstrap.min.js" ></script>
	<script type="text/javascript" src="js/task.js" ></script>
	<script type="text/javascript" src="js/bootstrap-select.js" ></script>
	<script src="js/moment.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/jquery.daterangepicker.js"></script>
	<script type="text/javascript" src="js/jquery.datetimepicker.full.js"></script>
	<script>		
		$(function(){			           	    
	      	var pro=$(".project-modal #project");
	      	var step=$(".project-modal .modal-body .btn1 input");
	      	var member=$(".project-modal").find('.filter-option');
	      	var version=$(".project-modal .version");
	        var money=$(".project-modal .money");
	        var txtfm=$(".project-modal textarea");
		    var remark=$(".modal-footer .remark");
		    var status=$(".project-modal .modal-body .btn2 input");
	        var day1=$(".project-modal #day1");
	        var day2=$(".project-modal #day2");
	        var d1 = new Date(day1.val().replace(/\-/g, "\/"));               	 
	        var d2 = new Date(day2.val().replace(/\-/g, "\/")); 
           
			$("#day1").dateRangePicker({			
				separator: 'to',
				singleDate: true
		    });
		    $("#day2").dateRangePicker({
				separator: 'to',
				singleDate: true
		    });
		    
		    
		   $(".dropdown-menu li").click(function(){
       	 	  var txt=$(this).attr('data-type');
       	 	  $(this).parent().siblings("button").find("input").val(txt);
       	   })      	
		   $(".dropdown1").click(function(){
		   	    step.css("border","1px solid #646464");
			   	if(step.val()!=''){
					step.css("border","1px solid #ddd");
					remark.css("display","none");
				}
		   });
		   $(".dropdown2").click(function(){
			   	if(status.val()!=''){
					status.css("border","1px solid #ddd");
					remark.css("display","none");
				}
		   });
		   $(".bootstrap-select li a").click(function(){
			   	if(member.text()!=''){
					member.parent('.btn-default').css("border","1px solid #ddd");
					remark.css("display","none");
				}
		   });		   
		   $(".btn-group input").click(function(){
				$(this).css('border','1px solid #646464');
		   });
			$(".bootstrap-select button").click(function(){
				$(this).css('border','1px solid #646464!important');
			});
  		   
		   /*编辑*/
           $(".country .edit").click(function(){
           	  $(".modal").modal({backdrop: 'static', keyboard: false});
           	  $("#exampleModalLabel").text("编辑项目");
           	  $(this).parents('.sdk').addClass('edit-this');
           	  var val=$(this).parents(".country");
           	  $(".cover").css("display",'none');
           	  $('.editSave').css('display','block');
           	  $('.newSave').css('display','none')
           	  $("#project").val($(this).siblings("h2").text());
           	  $(".version").val(val.siblings(".sdk-v").find("h2").text());
           	  $(".money").val(val.siblings(".sdk-bonus").find(".jine").text());
           	  $("textarea").val(val.siblings(".sdk-v").find("p").text());
           	  $("#day1").val(val.siblings(".sdk-v").find(".num1").text());
           	  $("#day2").val(val.siblings(".sdk-v").find(".num2").text());
           });
            
            $('.modal .close').click(function(){
            	$('.sdk').each(function(){
            		if($(this).hasClass('edit-this')){
            			$(this).removeClass('edit-this');
            		}
            	})
            })
			
			
			/*新增项目*/
			$("#addproject").click(function(){
			   $("#exampleModal").modal({backdrop: 'static', keyboard: false});
			   $("#exampleModalLabel").text("新增项目"); 
			   $(".cover").css("display",'none');
			});
				
			/*新增保存*/
           $('.modal-footer a').click(function(){
           	    var txt=$("#exampleModalLabel").text();
//         	    if(pro.val()==''){
//            		pro.addClass('border-red')
//            		remark.addClass('display-show');
//                  keyUp(pro);
//            	}else if(step.val()==''){
//            		step.css("border","1px solid #FA003A");
//            		remark.css("display","block");
//            	}

//            	else if(member.text()==''||member.text()=='设置成员'){
//            		member.parent('.btn-default').css("border","1px solid #FA003A");
//            		$(".modal-footer .remark").css("display","block");
//            	}

//            	else if(status.val()==''){
//            		status.css("border","1px solid #FA003A");
//            		$(".modal-footer .remark").css("display","block");
//            	}else if(version.val()==''){
//            		version.addClass('border-red')
//            		remark.addClass('display-show');
//            		keyUp(version);
//            	}else if(money.val()==''){
//            		money.addClass('border-red')
//            		remark.addClass('display-show');
//            		keyUp(money);
//            	}else if(day1.val()==''||day2.val()==''){
//            		$(".project-modal .day").addClass('border-red');
//            		remark.addClass('display-show');
//            	}else if(d1 >= d2){
//            		$(".modal-footer .remark1").addClass('display-show');
//            		$(".project-modal .day").addClass('border-red')
//            		return false;
//            	}else if(txtfm.val()==''){
//            		txtfm.addClass('border-red')
//            		remark.addClass('display-show');
//            		keyUp(txtfm);
//            	}else{             		
	           	    if(txt=='新增项目'){
	           	    	var clone=$('.clone-box').clone(true);
	           	    	clone.removeClass('clone-box');
	           	    	clone.find('.clone-name').text($('.modal-body #project').val());
	           	    	clone.find(".sdk-v p").text($(".modal-body textarea").val());
		           	    clone.find(".sdk-v .h3").text($(".modal-body .version").val());
		           	    clone.find(".sdk-v .num1").text($(".modal-body .day #day1").val());
		           	    clone.find(".sdk-v .num2").text($(".modal-body .day #day2").val());
		           	    clone.find(".bonus1 .jine").text($(".modal-body .money").val());
	           	    	$(".pro-center .cloneto").prepend(clone);
	           	    	$(this).attr("data-dismiss","modal");
	           	    	pro.val('');
				  	    step.val('');
				  	    member.text('');
				  	    status.val('');
				  	    version.val('');
				  	    money.val('')
				  	    day1.val('');
				  	    day2.val('');
				  	    txtfm.val('');
	           	    }else if(txt=='编辑项目'){
	           	    	$('.sdk').each(function(){
	           	    		if($(this).hasClass('edit-this')){
	           	    			$(this).children('.country').find('h2').text($("#project").val());
	           	    			$(this).children('.sdk-v').find('h2').text($(".version").val());
	           	    			$(this).children('.sdk-v').find('p').text($(".modal-body textarea").val());
	           	    			$(this).children('.sdk-v').find('.num1').text($(".modal-body .day #day1").val());
	           	    			$(this).children('.sdk-v').find('.num2').text($(".modal-body .day #day2").val());
	           	    			$(this).children('.sdk-bonus').find('.jine').text($(".modal-body .money").val());
	           	    			$(this).removeClass('edit-this');
	           	    		}
	           	    	})
	           	    	$(this).attr("data-dismiss","modal");         			
	           	    }
//              }
            });
            
            
            function initDate(ele) {
				var len = ele.length;
				for(var i = 0; i < len; i++) {
					var readonly = ele.eq(i).attr("readonly");
					if(readonly) {
						continue;
					}
					ele.eq(i).dateRangePicker({
						separator: 'to',
						singleDate: true
					});
				}
			}
             
            function keyUp(obj){
            	obj.keyup(function(){
            		if(obj.val()!=''){
        				obj.addClass('border-hui');
        				remark.removeClass('display-show');
        			}
            	})
            }
            
		});
			
		
//		laydate.render({
//		  elem: '#day1' //指定元素
//		});
//		laydate.render({
//		  elem: '#day2' //指定元素
//		});
	</script>
	</body>
</html>
