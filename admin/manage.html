<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/common.css" />
		<link rel="stylesheet/less" type="text/css" href="css/styles.less" />
		<link rel="stylesheet" href="css/work.css" />
		<link rel="stylesheet" href="css/manage.css" />
		<link rel="stylesheet/less" href="css/work.less" />
		<link rel="stylesheet/less" href="css/manage.less" />
		<link rel="stylesheet" href="css/daterangepicker.css" />
		<script src="js/less.js" type="text/javascript"></script>
	</head>

	<body>
		<header>
			<div class="container">
				<nav class="nav">
					<img src="img/logo.png" class="logo" />
					<h2>支撑中心管理平台</h2>
					<div class="admin">
						<img src="img/admin.jpg">
						<span class="roger">roger</span>
						<a href="##" class="down"></a>
					</div>
				</nav>
			</div>
		</header>
		<!--导航-->
		<div class="direct">
			<div class="container">
				<ul>
					<li>
						<a href="index.html">我的项目</a>
					</li>
					<li>
						<a href="work.html">工作日志</a>
					</li>
					<li>
						<a href="test.html">测试记录</a>
					</li>
					<li class="on">
						<a href="manage.html">事务管理</a>
					</li>
					<li>
						<a href="count.html">统计</a>
					</li>
				</ul>
			</div>
		</div>
		<!--工作日志-->
		<div class="project work animated an-fadeIn">
			<div class="container">
				<div class="pro-top col-md-12 col-lg-12">
					<div class="pro-left">
						<h2 class="h2 week">奖金</h2>
						<h2 class="h2">便签</h2>
					</div>
					<div class="pro-right">
						<input type="text" placeholder="Search" />
					</div>
				</div>
				<div class="pro-center col-md-12 col-lg-12">
					<!--奖金-->
					<div class="manage manage-no animated an-fadeIn">
						<table class="table table-bonus">
							<thead>
								<thead>
									<tr>
										<th>日期</th>
										<th>事务名称</th>
										<th>姓名</th>
										<th>解决方案</th>
										<th class="how">奖惩</th>
										<th></th>
									</tr>
								</thead>
								<tbody id="tbody">
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="姓名" value="马姗姗" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="解决方案" value="优化内存压力问题" readonly="readonly" />
										</td>
										<td class="how">
											<input type="text" placeholder="金额" value="+500" class="money" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="姓名" value="马姗姗" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="解决方案" value="优化内存压力问题" readonly="readonly" />
										</td>
										<td class="how">
											<input type="text" placeholder="金额" value="+500" class="money" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="姓名" value="马姗姗" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="解决方案" value="优化内存压力问题" readonly="readonly" />
										</td>
										<td class="how">
											<input type="text" placeholder="金额" value="+500" class="money" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="姓名" value="马姗姗" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="解决方案" value="优化内存压力问题" readonly="readonly" />
										</td>
										<td class="how">
											<input type="text" placeholder="金额" value="+500" class="money" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="姓名" value="马姗姗" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="解决方案" value="优化内存压力问题" readonly="readonly" />
										</td>
										<td class="how">
											<input type="text" placeholder="金额" value="+500" class="money" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
								</tbody>
							</thead>
						</table>
						<a id="addTab" href="##">添加</a>
						<br /><br /><br /><br /><br /><br /><br />
					</div>
					<!--便签-->
					<div class="manage animated an-fadeIn">
						<table class="table table-note">
							<thead>
								<thead>
									<tr>
										<th>日期</th>
										<th>内容</th>
										<th></th>
									</tr>
								</thead>
								<tbody id="tbodyNote">
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
									<tr>
										<td>
											<input type="text" class="date" placeholder="请选择日期" value="2017-11-22" readonly="readonly" />
										</td>
										<td>
											<input type="text" placeholder="项目名称" value="国内SDK项目" readonly="readonly" />
										</td>
										<td>
											<a href="##" class="edit">编辑</a>
										</td>
									</tr>
								</tbody>
							</thead>
						</table>
						<a id="addNote" href="##">添加</a>
						<br /><br /><br /><br /><br /><br /><br />
					</div>
				</div>
				
			</div>
		</div>
		<script>
			less = {
				env: "development",
				async: false,
				fileAsync: false,
				poll: 1000,
				functions: {},
				dumpLineNumbers: "comments",
				relativeUrls: false,
				rootpath: ":/a.com/"
			};
		</script>
		<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<script type="text/javascript" src="js/task.js"></script>
		<script src="js/moment.min.js" type="text/javascript"></script>
		<script type="text/javascript" src="js/jquery.daterangepicker.js"></script>
		<script type="text/javascript" src="js/jquery.datetimepicker.full.js"></script>
		<script>
			$(function() {
				$(".pro-left h2").click(function() {
					$(this).addClass("week").siblings().removeClass("week");
					var index = $(this).index();
					$(".pro-center .manage").eq(index).addClass("manage-no").siblings().removeClass("manage-no");
				});
				//奖金
				$("#addTab").click(function() {
					var html = "";
					html += '<tr>' +
						'<td><input type="text" placeholder="请选择日期" class="syncin date"/></td>' +
						'<td><input type="text" placeholder="项目名称" class="syncin"/></td>' +
						'<td><input type="text" placeholder="姓名" class="syncin"/></td>' +
						'<td><input type="text" placeholder="解决方案" class="syncin"/></td>' +
						'<td class="how"><input type="text" placeholder="金额" class="money syncin"/></td>' +
						'<td><a href="##" class="edit">保存</a></td>' +
						'</tr>';
					$("#tbody").append(html);
					$(".manage-left").height($(".manage-left").height() + 50);

					initDate($('.date'));

				});

				$("tbody").delegate(".edit", "click", function() {
					if($(this).text() == "编辑") {
						$(this).text("保存");
						$(this).parents("tr").find("input").removeAttr('readonly').addClass('border-bot-blank');;
						$(this).parents("tr").find("input").eq(0).dateRangePicker({
							separator: 'to',
							singleDate: true
						});
					} else if($(this).text() == "保存") {
						var valCount = 0;
						var inp = $(this).parents("tr").find("input");
						var len = inp.length;
						for(var i = 0; i < len; i++) {
							var val = inp.eq(i).val();
							if(val) {
								valCount++;																		
							}
						}
						if(valCount < inp.length) {
							alert("内容不能为空！");
							return false;
						} else {
							alert("保存成功！");
							$(this).text("编辑");
							$(this).parents("tr").find("input").attr('readonly', "readonly").removeClass('border-bot-blank');
							$(this).parents("tr").find("input").eq(0).unbind();
						}
					}
				});

                //便签
                $("#addNote").click(function() {
					var html = "";
					html += '<tr>' +
						'<td><input type="text" placeholder="请选择日期" class="syncin date"/></td>' +
						'<td><input type="text" placeholder="项目名称" class="syncin"/></td>' +
						'<td><a href="##" class="edit">保存</a></td>' +
						'</tr>';
					$("#tbodyNote").append(html);
					$(".manage-left1").height($(".manage-left1").height() + 50);
					initDate($('.date'));
				});
				
				
				//函数
				function initDate(ele) {
					var len = ele.length;
					for(var i = 0; i < len; i++) {
						var readonly = ele.eq(i).attr("readonly");
						if(readonly) {
							continue;
						}
						ele.eq(i).dateRangePicker({
							separator: 'to',
							singleDate: true
						});
					}
				}
				
				
			})
		</script>
	</body>

</html>